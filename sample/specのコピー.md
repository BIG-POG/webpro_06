#　開発者用仕様書(仮)
## 献立一覧
## ポケモンゲームシリーズ発売履歴管理システム
### 1. システム概要
本システムは，歴代のポケモンゲームシリーズの発売情報を管理し，REST APIの原則に従って，データの一覧，詳細表示，追加，変更，削除の5つの操作を提供する．

### 2. データ構造
システムが扱うデータは，`webpro_06.js`内の`pokemon_g`変数に格納されるJavaScriptオブジェクト配列として定義されている．

#### 2.1. データモデル
| キー名 | データ型 | 説明 |
| :--- | :--- | :--- |
| `id` | Number | 一意のID（主キー）．連番で自動採番されることを想定． |
| `hatubai` | String | 発売日 (例: "1996年2月27日") |
| `name` | String | ゲームタイトル名 (例: "ポケットモンスター 赤・緑") |
| `sedai` | String | 世代 (例: "第1世代") |
| `tihou` | String | 舞台となる地方 (例: "カントー地方") |
| `gosanke` | String | 御三家ポケモン (例: "フシギダネ,ヒトカゲ,ゼニガメ") |

####　2.2. 変数定義 (webpro_06.jsより抜粋)
```javascript
let pokemon_g = [
  { id:1, hatubai:"1996年2月27日", name:"ポケットモンスター 赤・緑", sedai:"第1世代", tihou:"カントー地方", gosanke:"フシギダネ,ヒトカゲ,ゼニガメ" },
  // ...
];
```
### 3. ページ遷移
#### 3.1. HTTPメソッドとリソース名
すべてのデータ操作は，以下のREST APIの原則に基づいたHTTPメソッドとリソース名（URL）に対応付けられる．
| 機能 | HTTPメソッド | リソース名 (URL) | 説明 |
| :--- | :--- | :--- | :--- |
| 一覧表示 | GET | /pokemon | 全シリーズの一覧を表示する． |
| 詳細表示 | GET | /pokemon/:id | 特定IDのシリーズの詳細を表示する． |
| 新規作成フォーム | GET | /pokemon/new | 新規作成用の入力フォームを表示する． |
| データ追加 (作成) | POST | /pokemon/add | フォームデータを受け付け，データに追加する． |
| 編集フォーム | GET | /pokemon/:id/edit | 特定IDの編集フォームを表示する． |
| データ変更 (更新) | POST | /pokemon/:up | フォームデータを受け付け，既存データを更新する． |
| データ削除 | POST | /pokemon/delete/:delete | 特定IDのデータを削除する． |
#### 3.2. どうやってページ遷移するか？
一覧から詳細への遷移: 一覧ページ内のリンク（タイトル名など）をクリックすることで，URLが/pokemonから/pokemon/:idに変化し，詳細ページへ遷移する．

詳細から編集フォームへの遷移: 詳細ページにある編集ボタンをクリックすることで，/pokemon/:id/edit へ遷移する．
#### 3.3. 追加・削除・編集後に表示する内容
データ追加（POST /pokemon）後: データが正常に追加された後，ユーザーは一覧ページ (/pokemon) にリダイレクトされる．

データ変更（POST /pokemon/:id）後: データが正常に更新された後，ユーザーは更新後の詳細ページ (/pokemon/:id) にリダイレクトされる．

データ削除（POST /pokemon/delete/:id）後: データが正常に削除された後，ユーザーは一覧ページ (/pokemon) にリダイレクトされる．
### 4. リソースごとの機能の詳細
#### 4.1. GET /pokemon (一覧表示)
機能: pokemon_gの全データを取得し，発売日順にソートして表形式で表示する．

表示内容: ID，発売日，タイトル名，世代，地方を表示する．タイトル名は詳細ページへのリンクとする．
#### 4.2. GET /pokemon/:id (詳細表示)
機能: パスパラメータ :id に対応するシリーズのデータのみを取得し，全項目（発売日，タイトル名，世代，地方，御三家など）の詳細情報を表示する．

付随機能: 編集フォームへ遷移するボタンと，データを削除するボタン（POST /pokemon/delete/:idへのフォーム）を配置する．
#### 4.3. POST /pokemon (データ追加)
機能: フォームから送信されたデータ（req.body）を受け取り，バリデーションを行った後，既存のデータ配列に新しいIDを付与して追加する．

処理: pokemon_g.push({...})によりメモリ上のデータが更新される．
## パーカッションの楽器一覧
